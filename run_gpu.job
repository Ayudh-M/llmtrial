#!/bin/bash
#SBATCH --job-name=consensus-mock
#SBATCH --partition=gpu_h100          # or gpu_a100; CPU-only: rome/genoa and remove --gpus
#SBATCH --nodes=1
#SBATCH --gpus=1
#SBATCH --cpus-per-task=8
#SBATCH --time=00:10:00
#SBATCH --mem=24G
#SBATCH --output=logs/%x-%j.out

set -euo pipefail

# Forward all CLI arguments to ``python -m src.main``.  Example:
#   sbatch run_gpu.job --scenario mistral_math_smoke --mock --preset tiny

module purge
module load 2025
module spider Python
module load Python/3.11.6-GCCcore-13.3.0
source ~/.venvs/consensus/bin/activate
mkdir -p runs logs

srun python -m src.main "$@"
