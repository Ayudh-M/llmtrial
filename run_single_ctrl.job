#!/bin/bash
#SBATCH -J llm_single_ctrl
#SBATCH -A tesr108469
#SBATCH -p gpu_h100
#SBATCH -t 00:20:00
#SBATCH --gpus=1
#SBATCH --cpus-per-task=8
#SBATCH --mem=40G
#SBATCH -o logs/%x-%j.out

set -euo pipefail
module purge && module load 2025
source ~/.venvs/llmtrial/bin/activate

export HF_HOME="$HOME/.cache/huggingface"
export TRANSFORMERS_VERBOSITY=info
export PYTHONUNBUFFERED=1

cd ~/projects/llmtrial
export PYTHONPATH=.

SCEN="reasoning_plan_solve"
STRAT="S1"

echo "[job] scenario=$SCEN strategy=$STRAT"
python -m src.main --scenario "$SCEN" --strategy "$STRAT"
